# -- override the fullname of created resources
fullnameOverride: ""

image:
  registry: ghcr.io
  repository: mogenius/renovate-operator
  # -- tag of the renovate-operator, if empty .Chart.AppVersion is used
  tag: ~
  pullPolicy: "IfNotPresent"


config:
  # -- default backoff limit for renovate jobs
  defaultJobBackoffLimit: 1
  # -- default active deadline seconds for renovate jobs
  defaultJobActiveDeadlineSeconds: 1800
  # -- whether to delete successfully finished renovate jobs (will loose logs)
  deleteSuccessfullJobs: false

ingress:
  # -- whether to enable the ingress renovate-operator
  enabled: false
  # -- the ingressclassname for the ingress, default: nginx
  ingressClassName: "nginx"
  # -- the host the ingress should lsiten for
  host: ~
  # -- tls configuration to be applied on the ingress
  tls: []
    # - hosts:
    #     - renovate.example.com
    #   secretName: renovate-tls
  # -- labels to place on the ingress
  labels: {}
  # -- annotations to place on the ingress
  annotations: {}

# -- Configure the gateway routes for the chart here.
# Additional routes can be added by adding a dictionary key similar to the 'main' route.
# [[ref]](https://gateway-api.sigs.k8s.io/references/spec/)
# @default -- See below
route: 
  {}
  # main:
  #   # -- Enables or disables the route
  #   enabled: true

  #   # -- Set the route kind
  #   # Valid options are GRPCRoute, HTTPRoute, TCPRoute, TLSRoute, UDPRoute
  #   kind: HTTPRoute

  #   # -- Override the name suffix that is used for this route.
  #   nameOverride: ""

  #   # -- Provide additional annotations which may be required.
  #   annotations: {}

  #   # -- Provide additional labels which may be required.
  #   labels: {}

  #   # -- Configure the resource the route attaches to.
  #   parentRefs:
  #     - # Group of the referent resource.
  #       group: gateway.networking.k8s.io
  #       # Kind of the referent resource.
  #       kind: Gateway
  #       # Name of the referent resource
  #       name:
  #       # Namespace of the referent resource
  #       namespace:
  #       # Name of the section within the target resource.
  #       sectionName:

  #   # -- Host addresses. Helm template can be passed.
  #   hostnames: []

  #   # -- Configure rules for routing. Defaults to the primary service.
  #   rules:
  #     - # -- Optional name of the route rule. This name must be unique within a Route if it is set.
  #       name: ""
  #       # -- Configure backends where matching requests should be sent.
  #       backendRefs: []
  #       ## Configure conditions used for matching incoming requests. Only for HTTPRoutes
  #       matches:
  #         - path:
  #             type: PathPrefix
  #             value: /
  #       ## Request filters that are applied to the rules.
  #       filters: []
  #       ## Request timeout that are applied to the rules.
  #       timeouts: {}

webhook:
  enabled: true
  port: 8082
  ingress:
    # -- whether to enable the ingress for the webhook server
    enabled: false
    # -- the ingressclassname for the ingress, default: nginx
    ingressClassName: "nginx"
    # -- the host the ingress should lsiten for
    host: ~
    # -- tls configuration to be applied on the ingress
    tls: []
      # - hosts:
      #     - webhook.renovate.example.com
      #   secretName: webhook-renovate-tls
    # -- labels to place on the ingress
    labels: {}
    # -- annotations to place on the ingress
    annotations: {}


rbac:
  # -- if true no clusterrole and clusterrolebinding will be created, only role and rolebinding
  # -- when enabled, the operator will only watch resources in the namespace it is deployed to
  ownNamespaceOnly: false
  # -- optional: specify a custom namespace to watch (defaults to the release namespace when ownNamespaceOnly is true)
  watchNamespace: ""

# -- security context for the pod and containers
securityContext:
  pod:
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
  container:
    runAsUser: 1000
    runAsGroup: 1000
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault
    readOnlyRootFilesystem: true
    privileged: false
    allowPrivilegeEscalation: false

resources: {}

serviceAccount:
  # -- name of the serviceaccount, if not set a name is generated using the fullname template
  name: ~
  # -- whether a serviceaccount should be created
  create: true
